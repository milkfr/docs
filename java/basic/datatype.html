<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据类型 | milkfr&#39;s blog</title>
    <meta name="description" content="milkfr">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="https://milkfr.github.io/docs/images/favicon.ico">
  <meta name="author" content="milkfr">
  <meta name="description" content="milkfr">
    
    <link rel="preload" href="https://milkfr.github.io/docs/assets/css/0.styles.043e9cc7.css" as="style"><link rel="preload" href="https://milkfr.github.io/docs/assets/js/app.5d0017c9.js" as="script"><link rel="preload" href="https://milkfr.github.io/docs/assets/js/2.8da6cd0b.js" as="script"><link rel="preload" href="https://milkfr.github.io/docs/assets/js/10.01e3be53.js" as="script"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/11.34979fbc.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/12.b66e89a2.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/13.2bfd9c57.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/14.7deaaabb.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/15.4c4cea94.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/16.eb7db8fa.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/17.c52d7d44.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/18.cda8ccdf.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/19.57ec85f0.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/20.f230936e.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/21.f2bdaf3b.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/22.ef48a15b.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/3.68b8b417.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/4.61218d29.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/5.7ca3ade4.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/6.d480fe59.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/7.3b2e8ee6.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/8.93d52b68.js"><link rel="prefetch" href="https://milkfr.github.io/docs/assets/js/9.59a71c3e.js">
    <link rel="stylesheet" href="https://milkfr.github.io/docs/assets/css/0.styles.043e9cc7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/https:/milkfr.github.io/docs/" class="home-link router-link-active"><!----> <span class="site-name">milkfr's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java生态" class="dropdown-title"><span class="title">Java生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/java/basic/" class="nav-link router-link-active">
  基础知识
</a></li><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/java/concurrency/" class="nav-link">
  并发编程
</a></li><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/java/principle/" class="nav-link">
  内部原理
</a></li><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/java/spring/" class="nav-link">
  Spring框架
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="刷题" class="dropdown-title"><span class="title">刷题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/problem/leetcode/" class="nav-link">
  leetcode
</a></li><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/problem/ctf/" class="nav-link">
  ctf
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="安全攻防" class="dropdown-title"><span class="title">安全攻防</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/attack/tool/" class="nav-link">
  工具
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java生态" class="dropdown-title"><span class="title">Java生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/java/basic/" class="nav-link router-link-active">
  基础知识
</a></li><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/java/concurrency/" class="nav-link">
  并发编程
</a></li><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/java/principle/" class="nav-link">
  内部原理
</a></li><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/java/spring/" class="nav-link">
  Spring框架
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="刷题" class="dropdown-title"><span class="title">刷题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/problem/leetcode/" class="nav-link">
  leetcode
</a></li><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/problem/ctf/" class="nav-link">
  ctf
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="安全攻防" class="dropdown-title"><span class="title">安全攻防</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/https:/milkfr.github.io/docs/attack/tool/" class="nav-link">
  工具
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/https:/milkfr.github.io/docs/java/basic" class="sidebar-heading clickable router-link-active open"><span>基础知识</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/https:/milkfr.github.io/docs/java/basic/" class="sidebar-link">知识图谱</a></li><li><a href="/https:/milkfr.github.io/docs/java/basic/oop.html" class="sidebar-link">面向对象</a></li><li><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html" class="active sidebar-link">数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#基本类型" class="sidebar-link">基本类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#基本类型资料" class="sidebar-link">基本类型资料</a></li><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#默认值" class="sidebar-link">默认值</a></li><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#包装类型" class="sidebar-link">包装类型</a></li><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#缓存池" class="sidebar-link">缓存池</a></li></ul></li><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#高精度类型" class="sidebar-link">高精度类型</a></li><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#数组类型" class="sidebar-link">数组类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#数组的引用传递" class="sidebar-link">数组的引用传递</a></li><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#可变参数列表" class="sidebar-link">可变参数列表</a></li></ul></li><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#枚举类型" class="sidebar-link">枚举类型</a></li><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#string" class="sidebar-link">String</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/https:/milkfr.github.io/docs/java/basic/datatype.html#string的不可变" class="sidebar-link">String的不可变</a></li></ul></li></ul></li><li><a href="/https:/milkfr.github.io/docs/java/basic/key.html" class="sidebar-link">关键字</a></li><li><a href="/https:/milkfr.github.io/docs/java/basic/exception.html" class="sidebar-link">异常</a></li><li><a href="/https:/milkfr.github.io/docs/java/basic/reflection.html" class="sidebar-link">反射</a></li><li><a href="/https:/milkfr.github.io/docs/java/basic/genericity.html" class="sidebar-link">泛型</a></li><li><a href="/https:/milkfr.github.io/docs/java/basic/annotation.html" class="sidebar-link">注解</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="基本类型"><a href="#基本类型" class="header-anchor">#</a> 基本类型</h2> <h3 id="基本类型资料"><a href="#基本类型资料" class="header-anchor">#</a> 基本类型资料</h3> <table><thead><tr><th>基本类型</th> <th style="text-align:center;">大小</th> <th style="text-align:center;">最小值</th> <th style="text-align:center;">最大值</th> <th style="text-align:center;">包装类型</th> <th style="text-align:center;">初始值</th></tr></thead> <tbody><tr><td>boolean</td> <td style="text-align:center;">-</td> <td style="text-align:center;">-</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Boolean</td> <td style="text-align:center;">false</td></tr> <tr><td>char</td> <td style="text-align:center;">16bits</td> <td style="text-align:center;">Unicode 0</td> <td style="text-align:center;">Unicode 2^16-1</td> <td style="text-align:center;">Character</td> <td style="text-align:center;">\u0000(null)</td></tr> <tr><td>byte</td> <td style="text-align:center;">8bits</td> <td style="text-align:center;">-128</td> <td style="text-align:center;">+127</td> <td style="text-align:center;">Byte</td> <td style="text-align:center;">(byte)0</td></tr> <tr><td>short</td> <td style="text-align:center;">16bits</td> <td style="text-align:center;">-2^15</td> <td style="text-align:center;">+2^15-1</td> <td style="text-align:center;">Short</td> <td style="text-align:center;">(short)0</td></tr> <tr><td>int</td> <td style="text-align:center;">32bits</td> <td style="text-align:center;">-2^31</td> <td style="text-align:center;">+2^31-1</td> <td style="text-align:center;">Integer</td> <td style="text-align:center;">0</td></tr> <tr><td>long</td> <td style="text-align:center;">64bits</td> <td style="text-align:center;">-2^63</td> <td style="text-align:center;">+2^63-1</td> <td style="text-align:center;">Long</td> <td style="text-align:center;">0L</td></tr> <tr><td>float</td> <td style="text-align:center;">32bits</td> <td style="text-align:center;">IEEE754</td> <td style="text-align:center;">IEEE754</td> <td style="text-align:center;">Float</td> <td style="text-align:center;">0.0f</td></tr> <tr><td>double</td> <td style="text-align:center;">64bits</td> <td style="text-align:center;">IEEE754</td> <td style="text-align:center;">IEEE754</td> <td style="text-align:center;">Double</td> <td style="text-align:center;">0.0d</td></tr> <tr><td>void</td> <td style="text-align:center;">—</td> <td style="text-align:center;">—</td> <td style="text-align:center;">—</td> <td style="text-align:center;">Void</td> <td style="text-align:center;">-</td></tr></tbody></table> <p>boolean类型的大小没有明确的规定，通常定义为取字面值<code>true</code>和<code>false</code>，和JVM实现有关，通常是int类型的大小，因为32位对CPU寻址等有高效存取的特点</p> <h3 id="默认值"><a href="#默认值" class="header-anchor">#</a> 默认值</h3> <p>如果类的成员变量是基本类型，那么在类初始化时，这些类型会被赋予一个初始值</p> <p>上面类型的默认值仅在Java初始化类的时候才会被赋予，这种方式确保类基本类型的字段始终能被初始化，从而减少了bug的来源</p> <p>但是这些初始值对程序来说并不一定是合法或者正确的，为了安全，最好始终显式初始化变量</p> <p>上面说类初始化时候会赋予默认值，所以默认值赋予不适用于局部变量，比如方法中定义的数据，程序员需要主动初始化，编译器会警告报错</p> <h3 id="包装类型"><a href="#包装类型" class="header-anchor">#</a> 包装类型</h3> <p>上面基本类型中都有包装类型，基本类型都对应包装类型，基本类型与其对应的包装类型之间的赋值通过自动装箱和拆箱完成</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Integer</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">// 装箱</span>
<span class="token keyword">int</span> y <span class="token operator">=</span> x<span class="token punctuation">;</span>  <span class="token comment">// 拆箱</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="custom-block danger"><p class="custom-block-title">未完成</p> <p>基本类型有自己对应对包装类型，如果希望在堆内存里表示基本类型的数据，就需要用到它们的包装类，原因具体在之后的章节 Java On 8</p></div> <h3 id="缓存池"><a href="#缓存池" class="header-anchor">#</a> 缓存池</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Integer</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x <span class="token operator">==</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
<span class="token class-name">Integer</span> a <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> b <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>new Integer(123)</code>和<code>Integer.valueOf(123)</code>存在区别</p> <ul><li><code>new Integer(123)</code>每次都会新建一个对象</li> <li><code>Integer.valueOf(123)</code>会使用缓存池的对象，多次调用会取得同一个对象的引用</li></ul> <p>我们看一下<code>Integer.valueOf</code>方法的实现</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>low <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>high<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>low<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>判断值在缓存池范围内，就直接返回缓存池内容，不然新建一个对象</p> <p>我们再来看看Integer缓存池的实现</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">IntegerCache</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">128</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> high<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Integer</span> cache<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token comment">// high value may be configured by property</span>
        <span class="token keyword">int</span> h <span class="token operator">=</span> <span class="token number">127</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> integerCacheHighPropValue <span class="token operator">=</span>
            sun<span class="token punctuation">.</span>misc<span class="token punctuation">.</span>VM<span class="token punctuation">.</span><span class="token function">getSavedProperty</span><span class="token punctuation">(</span><span class="token string">&quot;java.lang.Integer.IntegerCache.high&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>integerCacheHighPropValue <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>integerCacheHighPropValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
                i <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// Maximum array size is Integer.MAX_VALUE</span>
                h <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span>MAX_VALUE <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token operator">-</span>low<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span> <span class="token class-name">NumberFormatException</span> nfe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// If the property cannot be parsed into an int, ignore it.</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        high <span class="token operator">=</span> h<span class="token punctuation">;</span>

        cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">(</span>high <span class="token operator">-</span> low<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> j <span class="token operator">=</span> low<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> cache<span class="token punctuation">.</span>length<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>
            cache<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// range [-128, 127] must be interned (JLS7 5.1.7)</span>
        <span class="token keyword">assert</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>high <span class="token operator">&gt;=</span> <span class="token number">127</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>大意是将<code>-128~127</code>赋值到缓存池中</p> <p>通过上面的探究，我们可以预计，如果数值在缓存池中，那么<code>new Integer</code>和<code>Integer.valueOf</code>是一样的</p> <p>测试一样的确如此，如果199大于127就是一样的</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Integer</span> a <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">199</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> b <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">199</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>编译器在自动装箱的过程中会调用<code>valueOf</code>方法，因此多个Integer实例通过自动装箱来创建并且值相同且在缓存池范围中，就会引用相同的对象</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Integer</span> m <span class="token operator">=</span> <span class="token number">113</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> n <span class="token operator">=</span> <span class="token number">113</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m <span class="token operator">==</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
<span class="token class-name">Integer</span> a <span class="token operator">=</span> <span class="token number">188</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> b <span class="token operator">=</span> <span class="token number">188</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>不同基本类型的缓存池不一样，但原理应该差不多</p> <h2 id="高精度类型"><a href="#高精度类型" class="header-anchor">#</a> 高精度类型</h2> <p>在Java中有两种类型的数据可用于高精度的计算，是<code>BigInteger</code>和<code>BigDecimal</code>，尽管它们大致可以划归为&quot;包装类型&quot;，但是它们并没有对应的基本类型</p> <p>这两个类进行运算需要调用它们的方法而非运算符</p> <p>BigInteger支持任意精度的整数，可用于精确表示任意大小的整数值，同时运算过程中不会丢失精度，BigDecimal支持任意精度的定点数字，可以进行精确的货币计算</p> <p>由于涉及到的计算量更多，所以运算速度会慢一些，但换来了精度</p> <div class="custom-block danger"><p class="custom-block-title">未完成</p> <p>基本类型如何丢失精度和原因</p></div> <h2 id="数组类型"><a href="#数组类型" class="header-anchor">#</a> 数组类型</h2> <p>C和C++中的数组是内存块，使用上存在溢出等风险</p> <p>Java处于安全考虑，数组使用前需要被初始化，并且不能访问数组长度以外的数据</p> <p>这种范围检查，是以每个数组上少量的内存开销和运行时检查下标的额外时间为代价的，但由此换来的安全性和开发效率的提高是值得的</p> <p>当创建对象数组时，实际上是创建了一个引用数组，并且每个引用的初始值为null，在使用该数组之前，我们必须为每个引用指定一个对象，如果我们尝试使用null的引用，则会运行时报错，因此，在Java中就防止了数组操作的常规错误</p> <p>我们还可以创建基本类型的数组，编译器通过将该数组的内存全部置为零来保证初始化</p> <p>在Java中，数组是相同类型的、用一个标识符名称封装到一起的一个对象序列或基本类型数据序列</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="数组的引用传递"><a href="#数组的引用传递" class="header-anchor">#</a> 数组的引用传递</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a2<span class="token punctuation">;</span>
a2 <span class="token operator">=</span> a1<span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a2<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a1<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2,3,4,5,6</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Java中将一个数组赋值给另一个数组，只是复制了一个引用</p> <h3 id="可变参数列表"><a href="#可变参数列表" class="header-anchor">#</a> 可变参数列表</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>static class A {}

static void printArray(Object... args) {
    for (Object obj: args) {
        System.out.print(obj + &quot; &quot;);
    }
    System.out.println();
}

public static void main(String[] args) {
    printArray(47, (float) 3.14, 11.11);  // 47 3.14 11.11  
    printArray(47, 3.14F, 11.11);  // 47 3.14 11.11 
    printArray(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);  // one two three 
    printArray(new A(), new A(), new A());  // Test$A@61bbe9ba Test$A@610455d6 Test$A@511d50c0 
    printArray((Object[]) new Integer[] { 1, 2, 3, 4, 5 });  // 1 2 3 4 5
    printArray();  // Empty list is ok
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><code>(Object[]) new Integer[] { 1, 2, 3, 4, 5 })</code>并不会执行转化，从最后一组案例表明可变参数个数可以为0</p> <p>可变参数虽然方便，但也增加了方法重载的复杂性</p> <p>比如如果有多个可变参数的重载时，或者类型可以替代时，或者自动装箱导致类型变化时，就容易出现错误</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">float</span> i<span class="token punctuation">,</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//    static void f(Character... args) {</span>
<span class="token comment">//        System.out.println(&quot;second&quot;);</span>
<span class="token comment">//    }</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1.0</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 97.0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>上面例子编译不通过，所以在注意在重载中使用可变参数</p> <div class="custom-block danger"><p class="custom-block-title">未完成</p> <p>数组需要进一步详细</p></div> <h2 id="枚举类型"><a href="#枚举类型" class="header-anchor">#</a> 枚举类型</h2> <p>enum也是一个类，可以作为类使用，有自己的一些顺序方法等，常用在switch语句中</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">enum</span> <span class="token class-name">Number</span> <span class="token punctuation">{</span>
    FIRST<span class="token punctuation">,</span> SECOND<span class="token punctuation">,</span> THIRD<span class="token punctuation">,</span> FOURTH<span class="token punctuation">,</span> FIFTH
<span class="token punctuation">}</span>

<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Number</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> FIRST<span class="token operator">:</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> SECOND<span class="token operator">:</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> THIRD<span class="token operator">:</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> FOURTH<span class="token operator">:</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> FIFTH<span class="token operator">:</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Number</span> first <span class="token operator">=</span> <span class="token class-name">Number</span><span class="token punctuation">.</span>FIRST<span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Number</span> n<span class="token operator">:</span> <span class="token class-name">Number</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token string">&quot;, ordinal&quot;</span> <span class="token operator">+</span> n<span class="token punctuation">.</span><span class="token function">ordinal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">test</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>输出为</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>FIRST
FIRST, ordinal0
1
SECOND, ordinal1
2
THIRD, ordinal2
3
FOURTH, ordinal3
4
FIFTH, ordinal4
5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="string"><a href="#string" class="header-anchor">#</a> String</h2> <p>我们写程序的大部分操作其实都是在操作String，因此String的学习是非常重要的</p> <h3 id="string的不可变"><a href="#string的不可变" class="header-anchor">#</a> String的不可变</h3> <p>查看String类定义</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">String</span>
    <span class="token keyword">implements</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span><span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">CharSequence</span> <span class="token punctuation">{</span>
    <span class="token comment">/** The value is used for character storage. */</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">char</span> value<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>String被声明为final，不可被继承</p> <p>内部使用char数据存储数据，该数组被声明为final，意味着value数组初始化之后就不能在引用其他数组，并且String内部没有改变value数组的方法，因此可以保证String不可变</p> <p>不可变的好处</p> <ul><li>可以缓存hash值</li> <li>String Pool的需要</li> <li>线程安全</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
<span class="token class-name">String</span> s3 <span class="token operator">=</span> <span class="token string">&quot;aaa&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> s3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
<span class="token class-name">String</span> s4 <span class="token operator">=</span> <span class="token string">&quot;bbb&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s5 <span class="token operator">=</span> <span class="token string">&quot;bbb&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s4 <span class="token operator">==</span> s5<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>例子和上面谈到基础类型的缓存池相似，<code>String.intern()</code>方法取得一个对象引用，首先将引用的对象放到String Pool中，然后返回这个对象引用</p> <div class="custom-block danger"><p class="custom-block-title">意外递归</p> <p>Java的类基本上继承自Object，如果<code>toString</code>方法中进行<code>&quot;1&quot; + this</code>等操作，会强制类型转换，调用<code>this.toString()</code>，造成无限递归</p></div> <div class="custom-block danger"><p class="custom-block-title">String,StringBuffer,StringBuilder</p> <p>需要继续详细</p></div> <p>to be continued ...</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/https:/milkfr.github.io/docs/java/basic/oop.html" class="prev">
        面向对象
      </a></span> <span class="next"><a href="/https:/milkfr.github.io/docs/java/basic/key.html">
        关键字
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="https://milkfr.github.io/docs/assets/js/app.5d0017c9.js" defer></script><script src="https://milkfr.github.io/docs/assets/js/2.8da6cd0b.js" defer></script><script src="https://milkfr.github.io/docs/assets/js/10.01e3be53.js" defer></script>
  </body>
</html>
